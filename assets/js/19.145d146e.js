(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{227:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("#性能优化")]),t._v(" "),a("p",[t._v("白屏： FCP - 路由改变时")]),t._v(" "),a("ol",[a("li",[t._v("回车按下,浏览器解析网址,进行 DNS 查询,查询返回 IP,通过 IP 发出 HTTP(S) 请求")]),t._v(" "),a("li",[t._v("服务器返回HTML,浏览器开始解析 HTML,此时触发请求 js 和 css 资源")]),t._v(" "),a("li",[t._v("js 被加载,开始执行 js,调用各种函数创建 DOM 并渲染到根节点,直到第一个可见元素产生")])]),t._v(" "),a("p",[t._v("网络上的优化：")]),t._v(" "),a("ul",[a("li",[t._v("DNS: prefetch")]),t._v(" "),a("li",[t._v("CDN")]),t._v(" "),a("li",[t._v("域名分片，HTTP2后作用不大")]),t._v(" "),a("li",[t._v("资源压缩")]),t._v(" "),a("li",[t._v("开启HTTP2：\n"),a("ul",[a("li",[t._v("二进制分帧的方式通信，http1.x 是用文本,http2 的效率更高")]),t._v(" "),a("li",[t._v("多路复用，减少TCP多次连接的时间")]),t._v(" "),a("li",[t._v("头部压缩")]),t._v(" "),a("li",[t._v("服务端推送，加载HTML时就推送js和css文件")])])]),t._v(" "),a("li",[t._v("浏览器缓存\n"),a("ul",[a("li",[t._v("拆包：抽离基础包，工具包和特定库等。chunk id变化使用HashedModuleIdsPlugin")])])])]),t._v(" "),a("p",[t._v("针对HTML文件：")]),t._v(" "),a("ol",[a("li",[t._v("loading提示：html-webpack-plugin可配置loading")]),t._v(" "),a("li",[t._v("服务端渲染SSR和Prerendering")]),t._v(" "),a("li",[t._v("FCP 和 FMP之间（数据还没回来前），使用占位图（骨架图）")])]),t._v(" "),a("p",[a("strong",[t._v("文件加载的优化")]),t._v("：")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("treeShaking")]),t._v(" "),a("ul",[a("li",[t._v("使用库的ESM版本")]),t._v(" "),a("li",[t._v("关闭Babel的module：false")])])]),t._v(" "),a("li",[a("p",[t._v("polyfill动态加载："),a("code",[t._v('<script src="https://cdn.polyfill.io/v2/polyfill.min.js"><\/script>')])])]),t._v(" "),a("li",[a("p",[t._v("动态加载ES6代码")])]),t._v(" "),a("li",[a("p",[t._v("路由级别的懒加载")]),t._v(" "),a("ul",[a("li",[t._v("Vue： babel插件"),a("code",[t._v("plugin-syntax-dynamic-import")]),t._v("后使用"),a("code",[t._v("component: () => import('@components/login')")])]),t._v(" "),a("li",[t._v("React: "),a("code",[t._v("React.lazy()")])])])]),t._v(" "),a("li",[a("p",[t._v("组件的加载")]),t._v(" "),a("ul",[a("li",[t._v("组件懒加载： "),a("code",[t._v("lazy + Suspense")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 动态加载图表组件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" Chart "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("lazy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* webpackChunkName: 'chart' */")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./charts'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 包含着图表的 modal 组件")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("ModalEchart")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Modal\n    \tonOk"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("handleOk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Chart "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Modal"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("ul",[a("li",[t._v("组件预加载： 提前触发组件的加载")]),t._v(" "),a("li",[t._v("Vue的keep-alive")])]),t._v(" "),a("p",[t._v("其他：")]),t._v(" "),a("ul",[a("li",[t._v("图片懒加载")]),t._v(" "),a("li",[t._v("雪碧图， HTTP2后作用不大")])])])]),t._v(" "),a("p",[t._v("参考资料：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000020690092",target:"_blank",rel:"noopener noreferrer"}},[t._v("一篇文章搞定前端性能优化面试"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);